<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0d0d15">
    <title>Ficha de RPG - Draunia</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
</head>
<body>
    <!-- Login/Register Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">Entrar</button>
                <button class="auth-tab" data-tab="register">Cadastrar</button>
            </div>
            
            <form id="loginForm" class="auth-form">
                <h2>Bem-vindo a Draunia!</h2>
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Senha</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <button type="submit" class="btn-primary">Entrar</button>
            </form>
            
            <form id="registerForm" class="auth-form hidden">
                <h2>Criar Conta</h2>
                <div class="form-group">
                    <label for="registerName">Nome</label>
                    <input type="text" id="registerName" required>
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" required>
                </div>
                <div class="form-group">
                    <label for="registerPassword">Senha</label>
                    <input type="password" id="registerPassword" required minlength="6">
                </div>
                <button type="submit" class="btn-primary">Cadastrar</button>
            </form>
        </div>
    </div>

    <!-- Character Select Modal -->
    <div id="characterModal" class="modal hidden">
        <div class="modal-content">
            <h2>Suas Fichas</h2>
            <div id="characterList" class="character-list"></div>
            <div class="modal-buttons-row">
                <button id="newCharacterBtn" class="btn-primary">
                    <i class="fas fa-plus"></i> Nova Ficha
                </button>
                <button id="manageSysBtn" class="btn-secondary">
                    <i class="fas fa-cogs"></i> Gerenciar Sistemas
                </button>
            </div>
            <button id="logoutBtn" class="btn-secondary">
                <i class="fas fa-sign-out-alt"></i> Sair
            </button>
        </div>
    </div>

    <!-- System Select Modal -->
    <div id="systemSelectModal" class="modal hidden">
        <div class="modal-content system-select-content">
            <h2><i class="fas fa-dice-d20"></i> Escolha o Sistema</h2>
            <p class="system-description">Selecione o sistema de regras para sua nova ficha:</p>
            <div id="systemOptionsList" class="system-options">
                <!-- Systems will be generated by JS -->
            </div>
            <div class="modal-buttons-row">
                <button class="btn-secondary" onclick="App.cancelSystemSelect()">
                    <i class="fas fa-arrow-left"></i> Voltar
                </button>
                <button class="btn-primary" onclick="App.showSystemEditor()">
                    <i class="fas fa-plus"></i> Criar Novo Sistema
                </button>
            </div>
        </div>
    </div>

    <!-- System Editor Modal -->
    <div id="systemEditorModal" class="modal hidden">
        <div class="modal-content system-editor-content">
            <div class="system-editor-header">
                <h2><i class="fas fa-cogs"></i> <span id="systemEditorTitle">Criar Novo Sistema</span></h2>
                <button class="btn-close" onclick="SystemManager.closeEditor()"><i class="fas fa-times"></i></button>
            </div>
            
            <div class="system-editor-body">
                <!-- Nome do Sistema -->
                <div class="system-section">
                    <h3><i class="fas fa-tag"></i> Informa√ß√µes B√°sicas</h3>
                    <div class="form-group">
                        <label for="systemName">Nome do Sistema *</label>
                        <input type="text" id="systemName" placeholder="Ex: Meu Sistema Personalizado" required>
                    </div>
                    <div class="form-group">
                        <label for="systemDescription">Descri√ß√£o</label>
                        <textarea id="systemDescription" placeholder="Descri√ß√£o breve do sistema..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="systemIcon">√çcone</label>
                        <select id="systemIcon">
                            <option value="fa-dice-d20">üé≤ Dado D20</option>
                            <option value="fa-scroll">üìú Pergaminho</option>
                            <option value="fa-dragon">üêâ Drag√£o</option>
                            <option value="fa-hat-wizard">üßô Mago</option>
                            <option value="fa-shield-alt">üõ°Ô∏è Escudo</option>
                            <option value="fa-sword">‚öîÔ∏è Espada</option>
                            <option value="fa-skull">üíÄ Caveira</option>
                            <option value="fa-star">‚≠ê Estrela</option>
                        </select>
                    </div>
                </div>

                <!-- Atributos -->
                <div class="system-section">
                    <h3><i class="fas fa-fist-raised"></i> Atributos</h3>
                    <div class="toggle-group">
                        <label class="toggle-label">
                            <span>Tipo de Atributos</span>
                            <select id="attrType">
                                <option value="realsscripts">Reals&Scripts (FOR, CON, VON, CAR, INT, AGI)</option>
                                <option value="dnd">D&D Cl√°ssico (FOR, DES, CON, INT, SAB, CAR)</option>
                                <option value="custom">Personalizado</option>
                            </select>
                        </label>
                    </div>
                    <div id="customAttrsSection" class="custom-attrs-section hidden">
                        <div class="form-group">
                            <label>Atributos Personalizados (separados por v√≠rgula)</label>
                            <input type="text" id="customAttrs" placeholder="Ex: FOR, DES, CON, INT, SAB, CAR">
                        </div>
                    </div>
                    <div class="toggle-group">
                        <label class="toggle-label">
                            <span>Limite de Pontos de Atributo</span>
                            <input type="number" id="attrPointLimit" value="8" min="0">
                        </label>
                    </div>
                    <div class="toggle-group">
                        <label class="toggle-label">
                            <span>C√°lculo de Modificador</span>
                            <select id="modifierCalc">
                                <option value="direct">Direto (valor = modificador)</option>
                                <option value="dnd">D&D ((valor - 10) / 2)</option>
                            </select>
                        </label>
                    </div>
                </div>

                <!-- Pontos de Vida -->
                <div class="system-section">
                    <h3><i class="fas fa-heart"></i> Pontos de Vida (HP)</h3>
                    <div class="toggle-group">
                        <label class="toggle-label">
                            <span>F√≥rmula de HP M√°ximo</span>
                            <select id="hpFormula">
                                <option value="realsscripts">Reals&Scripts: (Cora√ß√£o √ó 20) + (N√≠vel √ó CON)</option>
                                <option value="dnd">D&D: Dado de Vida + mod. CON por n√≠vel</option>
                                <option value="flat">Fixo por N√≠vel</option>
                                <option value="custom">Personalizado</option>
                            </select>
                        </label>
                    </div>
                    <div id="customHpSection" class="custom-formula-section hidden">
                        <div class="form-group">
                            <label>F√≥rmula Personalizada</label>
                            <input type="text" id="customHpFormula" placeholder="Ex: (level * 10) + (con * 2)">
                            <small>Vari√°veis: level, con, for, agi, int, von, car, dex, wis, cha</small>
                        </div>
                    </div>
                    <div id="flatHpSection" class="custom-formula-section hidden">
                        <div class="form-group">
                            <label>HP Base (N√≠vel 1)</label>
                            <input type="number" id="flatHpBase" value="10" min="1">
                        </div>
                        <div class="form-group">
                            <label>HP por N√≠vel Adicional</label>
                            <input type="number" id="flatHpPerLevel" value="5" min="0">
                        </div>
                    </div>
                </div>

                <!-- Pontos de Energia -->
                <div class="system-section">
                    <h3><i class="fas fa-bolt"></i> Pontos de Energia (PE/Mana)</h3>
                    <div class="toggle-group">
                        <label class="toggle-switch">
                            <input type="checkbox" id="hasEnergyPoints" checked>
                            <span class="slider"></span>
                        </label>
                        <span>Sistema possui Pontos de Energia</span>
                    </div>
                    <div id="energyPointsConfig">
                        <div class="toggle-group">
                            <label class="toggle-label">
                                <span>Nome dos Pontos</span>
                                <input type="text" id="energyName" value="PE" placeholder="PE, Mana, Ki...">
                            </label>
                        </div>
                        <div class="toggle-group">
                            <label class="toggle-label">
                                <span>F√≥rmula de PE M√°ximo</span>
                                <select id="peFormula">
                                    <option value="realsscripts">Reals&Scripts: (C√©rebro √ó 6) + (N√≠vel √ó VON)</option>
                                    <option value="simple">Simples: N√≠vel √ó Multiplicador</option>
                                    <option value="attr">Baseado em Atributo</option>
                                    <option value="custom">Personalizado</option>
                                </select>
                            </label>
                        </div>
                        <div id="simplePeSection" class="custom-formula-section hidden">
                            <div class="form-group">
                                <label>Multiplicador por N√≠vel</label>
                                <input type="number" id="peMultiplier" value="5" min="1">
                            </div>
                        </div>
                        <div id="attrPeSection" class="custom-formula-section hidden">
                            <div class="form-group">
                                <label>Atributo Base</label>
                                <select id="peAttr">
                                    <option value="int">INT</option>
                                    <option value="wis">SAB</option>
                                    <option value="cha">CAR</option>
                                    <option value="von">VON</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Multiplicador</label>
                                <input type="number" id="peAttrMultiplier" value="2" min="1">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sanidade -->
                <div class="system-section">
                    <h3><i class="fas fa-brain"></i> Sanidade</h3>
                    <div class="toggle-group">
                        <label class="toggle-switch">
                            <input type="checkbox" id="hasSanity" checked>
                            <span class="slider"></span>
                        </label>
                        <span>Sistema possui Sanidade</span>
                    </div>
                    <div id="sanityConfig">
                        <div class="toggle-group">
                            <label class="toggle-switch">
                                <input type="checkbox" id="sanityHasMax">
                                <span class="slider"></span>
                            </label>
                            <span>Sanidade tem valor m√°ximo</span>
                        </div>
                        <div id="sanityMaxConfig" class="hidden">
                            <div class="toggle-group">
                                <label class="toggle-label">
                                    <span>F√≥rmula de Sanidade M√°xima</span>
                                    <select id="sanityFormula">
                                        <option value="dnd">D&D: SAB √ó 5</option>
                                        <option value="flat">Valor Fixo</option>
                                        <option value="custom">Personalizado</option>
                                    </select>
                                </label>
                            </div>
                            <div id="flatSanitySection" class="custom-formula-section hidden">
                                <div class="form-group">
                                    <label>Sanidade M√°xima Fixa</label>
                                    <input type="number" id="flatSanity" value="100" min="1">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pontos de A√ß√£o -->
                <div class="system-section">
                    <h3><i class="fas fa-running"></i> Pontos de A√ß√£o (PA)</h3>
                    <div class="toggle-group">
                        <label class="toggle-switch">
                            <input type="checkbox" id="hasActionPoints">
                            <span class="slider"></span>
                        </label>
                        <span>Sistema possui Pontos de A√ß√£o</span>
                    </div>
                    <div id="actionPointsConfig" class="hidden">
                        <div class="toggle-group">
                            <label class="toggle-label">
                                <span>F√≥rmula de PA</span>
                                <select id="paFormula">
                                    <option value="realsscripts">Reals&Scripts: AGI + N√≠vel + 4</option>
                                    <option value="flat">Valor Fixo</option>
                                    <option value="custom">Personalizado</option>
                                </select>
                            </label>
                        </div>
                        <div id="flatPaSection" class="custom-formula-section hidden">
                            <div class="form-group">
                                <label>PA por Turno</label>
                                <input type="number" id="flatPa" value="3" min="1">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Fus√µes -->
                <div class="system-section">
                    <h3><i class="fas fa-dna"></i> Fus√µes</h3>
                    <div class="toggle-group">
                        <label class="toggle-switch">
                            <input type="checkbox" id="hasFusions">
                            <span class="slider"></span>
                        </label>
                        <span>Sistema possui Fus√µes (√ìrg√£os, Ossos, M√∫sculos)</span>
                    </div>
                </div>

                <!-- Defesas -->
                <div class="system-section">
                    <h3><i class="fas fa-shield-alt"></i> Defesas</h3>
                    <div class="toggle-group">
                        <label class="toggle-label">
                            <span>F√≥rmula de CA (Classe de Armadura)</span>
                            <select id="caFormula">
                                <option value="realsscripts">Reals&Scripts: 10 + B√¥nus de Armadura</option>
                                <option value="dnd">D&D: 10 + mod. DES + Armadura</option>
                                <option value="flat">Valor Base Fixo</option>
                            </select>
                        </label>
                    </div>
                    <div class="toggle-group">
                        <label class="toggle-switch">
                            <input type="checkbox" id="hasDodge">
                            <span class="slider"></span>
                        </label>
                        <span>Sistema possui Esquiva separada</span>
                    </div>
                    <div id="dodgeConfig" class="hidden">
                        <div class="toggle-group">
                            <label class="toggle-label">
                                <span>F√≥rmula de Esquiva</span>
                                <select id="dodgeFormula">
                                    <option value="realsscripts">Reals&Scripts: CA + Reflexos</option>
                                    <option value="custom">Personalizado</option>
                                </select>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Classes -->
                <div class="system-section">
                    <h3><i class="fas fa-hat-wizard"></i> Classes</h3>
                    <div class="toggle-group">
                        <label class="toggle-switch">
                            <input type="checkbox" id="hasClasses">
                            <span class="slider"></span>
                        </label>
                        <span>Sistema possui Classes</span>
                    </div>
                    <div id="classesConfig" class="hidden">
                        <div class="toggle-group">
                            <label class="toggle-switch">
                                <input type="checkbox" id="classAffectsHp" checked>
                                <span class="slider"></span>
                            </label>
                            <span>Classe afeta HP (Dado de Vida)</span>
                        </div>
                        <div class="form-group">
                            <label>Classes Dispon√≠veis (uma por linha: Nome, DadoVida)</label>
                            <textarea id="classList" placeholder="Guerreiro, 10&#10;Mago, 6&#10;Ladino, 8"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Per√≠cias -->
                <div class="system-section">
                    <h3><i class="fas fa-star"></i> Per√≠cias</h3>
                    <div class="toggle-group">
                        <label class="toggle-label">
                            <span>Sistema de Per√≠cias</span>
                            <select id="skillSystem">
                                <option value="realsscripts">Reals&Scripts (N√≠veis de Treino)</option>
                                <option value="dnd">D&D (Profici√™ncia)</option>
                                <option value="ranks">Ranks Livres</option>
                            </select>
                        </label>
                    </div>
                    <div class="toggle-group">
                        <label class="toggle-label">
                            <span>Lista de Per√≠cias</span>
                            <select id="skillList">
                                <option value="realsscripts">Reals&Scripts (28 per√≠cias)</option>
                                <option value="dnd">D&D 5e (18 per√≠cias)</option>
                                <option value="custom">Personalizado</option>
                            </select>
                        </label>
                    </div>
                </div>

                <!-- Espa√ßos de Magia -->
                <div class="system-section">
                    <h3><i class="fas fa-magic"></i> Sistema de Magia</h3>
                    <div class="toggle-group">
                        <label class="toggle-switch">
                            <input type="checkbox" id="hasSpellSlots">
                            <span class="slider"></span>
                        </label>
                        <span>Sistema possui Espa√ßos de Magia (Spell Slots)</span>
                    </div>
                </div>

            </div>
            
            <div class="system-editor-footer">
                <button class="btn-secondary" onclick="SystemManager.closeEditor()">
                    <i class="fas fa-times"></i> Cancelar
                </button>
                <button class="btn-danger hidden" id="deleteSystemBtn" onclick="SystemManager.deleteSystem()">
                    <i class="fas fa-trash"></i> Excluir Sistema
                </button>
                <button class="btn-primary" onclick="SystemManager.saveSystem()">
                    <i class="fas fa-save"></i> Salvar Sistema
                </button>
            </div>
        </div>
    </div>

    <!-- Systems Manager Modal -->
    <div id="systemsManagerModal" class="modal hidden">
        <div class="modal-content systems-manager-content">
            <h2><i class="fas fa-cogs"></i> Gerenciar Sistemas</h2>
            <p class="system-description">Crie e edite sistemas de regras personalizados.</p>
            
            <div id="systemsManagerList" class="systems-list">
                <!-- Systems will be generated by JS -->
            </div>
            
            <div class="modal-buttons-row">
                <button class="btn-secondary" onclick="SystemManager.closeManager()">
                    <i class="fas fa-arrow-left"></i> Voltar
                </button>
                <button class="btn-primary" onclick="SystemManager.createNew()">
                    <i class="fas fa-plus"></i> Criar Novo Sistema
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div id="mainContent" class="hidden">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1><i class="fas fa-scroll"></i> Draunia</h1>
            </div>
            <div class="header-center">
                <!-- Navigation Tabs -->
                <nav class="main-nav">
                    <button class="nav-tab active" data-tab="principal">
                        <i class="fas fa-user"></i>
                        <span>Principal</span>
                    </button>
                    <button class="nav-tab" data-tab="combate">
                        <i class="fas fa-fist-raised"></i>
                        <span>Combate</span>
                    </button>
                    <button class="nav-tab" data-tab="pericias">
                        <i class="fas fa-star"></i>
                        <span>Per√≠cias</span>
                    </button>
                    <button class="nav-tab" data-tab="historia">
                        <i class="fas fa-book"></i>
                        <span>Hist√≥ria</span>
                    </button>
                </nav>
            </div>
            <div class="header-right">
                <span id="saveStatus" class="save-status">
                    <i class="fas fa-check-circle"></i> Salvo
                </span>
                <span id="userName"></span>
                <button id="switchCharBtn" class="btn-icon" title="Trocar Ficha">
                    <i class="fas fa-exchange-alt"></i>
                </button>
            </div>
        </header>

        <!-- Tab Content -->
        <main class="sheet-container">
            
            <!-- ==================== TELA PRINCIPAL ==================== -->
            <div id="tab-principal" class="tab-content active">
                <div class="principal-layout">
                    <!-- Coluna Esquerda: Imagem + Info B√°sica + Atributos -->
                    <div class="principal-left layout-container" data-container-id="principal-left">
                        <!-- Imagem do Personagem -->
                        <div class="character-portrait draggable-card" data-card-id="portrait">
                            <div class="portrait-container">
                                <img id="charPortrait" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect fill='%232a2a4a' width='100' height='100'/%3E%3Ctext x='50' y='55' text-anchor='middle' fill='%23666' font-size='12'%3EImagem%3C/text%3E%3C/svg%3E" alt="Retrato">
                                <label class="portrait-upload" title="Alterar imagem">
                                    <i class="fas fa-camera"></i>
                                    <input type="file" id="portraitInput" accept="image/*" hidden>
                                </label>
                            </div>
                        </div>

                        <!-- Info B√°sica -->
                        <div class="basic-info-card draggable-card" data-card-id="basic-info">
                            <div class="card-drag-handle"><i class="fas fa-grip-horizontal"></i></div>
                            <div class="form-group">
                                <label>Nome</label>
                                <input type="text" id="charName" data-field="charName" class="char-name-input">
                            </div>
                            <div class="info-row">
                                <div class="form-group">
                                    <label>Ra√ßa</label>
                                    <select id="charRace" data-field="charRace">
                                        <option value="">Selecione...</option>
                                        <option value="humano">Humano</option>
                                        <option value="elfo">Elfo</option>
                                        <option value="anao">An√£o</option>
                                        <option value="demonio">Dem√¥nio</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>N√≠vel</label>
                                    <div class="input-with-buttons">
                                        <button type="button" class="btn-adjust" onclick="Sheet.adjustValue('charLevel', -1)"><i class="fas fa-minus"></i></button>
                                        <input type="number" id="charLevel" data-field="charLevel" min="1" value="1">
                                        <button type="button" class="btn-adjust" onclick="Sheet.adjustValue('charLevel', 1)"><i class="fas fa-plus"></i></button>
                                    </div>
                                </div>
                            </div>
                            <div class="info-row">
                                <div class="form-group">
                                    <label>PN Dispon√≠veis</label>
                                    <div class="input-with-buttons">
                                        <button type="button" class="btn-adjust" onclick="Sheet.adjustValue('levelPoints', -1)"><i class="fas fa-minus"></i></button>
                                        <input type="number" id="levelPoints" data-field="levelPoints" min="0" value="0">
                                        <button type="button" class="btn-adjust" onclick="Sheet.adjustValue('levelPoints', 1)"><i class="fas fa-plus"></i></button>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>PN/N√≠vel</label>
                                    <span id="pnPerLevel" class="calculated-small">4</span>
                                </div>
                            </div>
                            <div class="race-bonus" id="raceBonus"></div>
                        </div>

                        <!-- Atributos -->
                        <div class="attributes-card draggable-card" data-card-id="attributes">
                            <div class="card-drag-handle"><i class="fas fa-grip-horizontal"></i></div>
                            <h3><i class="fas fa-fist-raised"></i> Atributos <small>(<span id="usedAttrPoints">0</span>/8)</small></h3>
                            <div class="attributes-compact">
                                <div class="attr-item">
                                    <span class="attr-label">FOR</span>
                                    <div class="attr-controls">
                                        <button type="button" class="btn-adjust btn-attr" onclick="Sheet.adjustValue('attrFor', -1)"><i class="fas fa-minus"></i></button>
                                        <input type="number" id="attrFor" data-field="attrFor" class="attr-input" value="0">
                                        <button type="button" class="btn-adjust btn-attr" onclick="Sheet.adjustValue('attrFor', 1)"><i class="fas fa-plus"></i></button>
                                    </div>
                                </div>
                                <div class="attr-item">
                                    <span class="attr-label">CON</span>
                                    <div class="attr-controls">
                                        <button type="button" class="btn-adjust btn-attr" onclick="Sheet.adjustValue('attrCon', -1)"><i class="fas fa-minus"></i></button>
                                        <input type="number" id="attrCon" data-field="attrCon" class="attr-input" value="0">
                                        <button type="button" class="btn-adjust btn-attr" onclick="Sheet.adjustValue('attrCon', 1)"><i class="fas fa-plus"></i></button>
                                    </div>
                                </div>
                                <div class="attr-item">
                                    <span class="attr-label">VON</span>
                                    <div class="attr-controls">
                                        <button type="button" class="btn-adjust btn-attr" onclick="Sheet.adjustValue('attrVon', -1)"><i class="fas fa-minus"></i></button>
                                        <input type="number" id="attrVon" data-field="attrVon" class="attr-input" value="0">
                                        <button type="button" class="btn-adjust btn-attr" onclick="Sheet.adjustValue('attrVon', 1)"><i class="fas fa-plus"></i></button>
                                    </div>
                                </div>
                                <div class="attr-item">
                                    <span class="attr-label">CAR</span>
                                    <div class="attr-controls">
                                        <button type="button" class="btn-adjust btn-attr" onclick="Sheet.adjustValue('attrCar', -1)"><i class="fas fa-minus"></i></button>
                                        <input type="number" id="attrCar" data-field="attrCar" class="attr-input" value="0">
                                        <button type="button" class="btn-adjust btn-attr" onclick="Sheet.adjustValue('attrCar', 1)"><i class="fas fa-plus"></i></button>
                                    </div>
                                </div>
                                <div class="attr-item">
                                    <span class="attr-label">INT</span>
                                    <div class="attr-controls">
                                        <button type="button" class="btn-adjust btn-attr" onclick="Sheet.adjustValue('attrInt', -1)"><i class="fas fa-minus"></i></button>
                                        <input type="number" id="attrInt" data-field="attrInt" class="attr-input" value="0">
                                        <button type="button" class="btn-adjust btn-attr" onclick="Sheet.adjustValue('attrInt', 1)"><i class="fas fa-plus"></i></button>
                                    </div>
                                </div>
                                <div class="attr-item">
                                    <span class="attr-label">AGI</span>
                                    <div class="attr-controls">
                                        <button type="button" class="btn-adjust btn-attr" onclick="Sheet.adjustValue('attrAgi', -1)"><i class="fas fa-minus"></i></button>
                                        <input type="number" id="attrAgi" data-field="attrAgi" class="attr-input" value="0">
                                        <button type="button" class="btn-adjust btn-attr" onclick="Sheet.adjustValue('attrAgi', 1)"><i class="fas fa-plus"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- HP e Sanidade compactos -->
                        <div class="vitals-compact-card draggable-card" data-card-id="vitals">
                            <div class="card-drag-handle"><i class="fas fa-grip-horizontal"></i></div>
                            <div class="vital-compact hp-compact">
                                <i class="fas fa-heart"></i>
                                <label>HP</label>
                                <div class="vital-compact-values">
                                    <input type="number" id="currentHpMain" class="vital-compact-input" min="0" value="20">
                                    <span>/</span>
                                    <span id="maxHpMain" class="vital-compact-max">20</span>
                                </div>
                                <div class="vital-buttons">
                                    <button type="button" class="btn-adjust" onclick="Sheet.adjustValue('currentHpMain', -1)"><i class="fas fa-minus"></i></button>
                                    <button type="button" class="btn-adjust" onclick="Sheet.adjustValue('currentHpMain', 1)"><i class="fas fa-plus"></i></button>
                                </div>
                            </div>
                            <div class="vital-compact san-compact">
                                <i class="fas fa-brain"></i>
                                <label>Sanidade</label>
                                <div class="vital-compact-values">
                                    <input type="number" id="sanityMain" class="vital-compact-input" min="0" value="20">
                                </div>
                                <div class="vital-buttons">
                                    <button type="button" class="btn-adjust" onclick="Sheet.adjustValue('sanityMain', -1)"><i class="fas fa-minus"></i></button>
                                    <button type="button" class="btn-adjust" onclick="Sheet.adjustValue('sanityMain', 1)"><i class="fas fa-plus"></i></button>
                                </div>
                            </div>
                            <div class="vital-compact pe-compact">
                                <i class="fas fa-bolt"></i>
                                <label>PE</label>
                                <div class="vital-compact-values">
                                    <input type="number" id="currentPEMain" class="vital-compact-input" min="0" value="6">
                                    <span>/</span>
                                    <span id="maxPEMain" class="vital-compact-max">6</span>
                                </div>
                                <div class="vital-buttons">
                                    <button type="button" class="btn-adjust" onclick="Sheet.adjustValue('currentPEMain', -1)"><i class="fas fa-minus"></i></button>
                                    <button type="button" class="btn-adjust" onclick="Sheet.adjustValue('currentPEMain', 1)"><i class="fas fa-plus"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Coluna Direita: Invent√°rio -->
                    <div class="principal-right layout-container" data-container-id="principal-right">
                        <div class="inventory-card draggable-card" data-card-id="inventory">
                            <div class="card-drag-handle"><i class="fas fa-grip-horizontal"></i></div>
                            <h3>
                                <i class="fas fa-backpack"></i> Invent√°rio
                                <span class="weight-display">
                                    <span id="currentWeight">0</span> / <span id="maxWeight">12</span> kg
                                    <span id="weightStatus" class="weight-badge normal">OK</span>
                                </span>
                            </h3>
                            
                            <!-- Ouro -->
                            <div class="gold-bar">
                                <i class="fas fa-coins"></i>
                                <input type="number" id="gold" data-field="gold" min="0" value="0" step="0.01">
                                <span>Ouro</span>
                            </div>

                            <!-- Armadura -->
                            <div class="armor-bar">
                                <label>Armadura:</label>
                                <select id="armorType" data-field="armorType">
                                    <option value="none">Nenhuma (0)</option>
                                    <option value="light">Leve (+3 CA, 3kg)</option>
                                    <option value="medium">M√©dia (+5 CA, 3kg, -2 pen.)</option>
                                    <option value="heavy">Pesada (+7 CA, 7kg, -5 pen.)</option>
                                </select>
                            </div>

                            <!-- Lista de Itens -->
                            <div class="inventory-list">
                                <div class="inventory-header">
                                    <span>Item</span>
                                    <span>Peso (kg)</span>
                                    <span></span>
                                </div>
                                <div id="inventoryItems">
                                    <!-- Items ser√£o gerados por JS -->
                                </div>
                                <button id="addItemBtn" class="btn-add-item">
                                    <i class="fas fa-plus"></i> Adicionar Item
                                </button>
                            </div>

                            <!-- Status de Peso -->
                            <div class="weight-info">
                                <small>M√°x: <span id="maxWeightInfo">12</span>kg | Pesado: <span id="heavyWeightInfo">18</span>kg</small>
                            </div>
                        </div>

                        <!-- Notas R√°pidas -->
                        <div class="notes-card draggable-card" data-card-id="quick-notes">
                            <div class="card-drag-handle"><i class="fas fa-grip-horizontal"></i></div>
                            <h3><i class="fas fa-sticky-note"></i> Notas R√°pidas</h3>
                            <textarea id="quickNotes" data-field="quickNotes" placeholder="Anota√ß√µes..."></textarea>
                        </div>

                        <!-- Per√≠cias Treinadas -->
                        <div class="trained-skills-card draggable-card" data-card-id="trained-skills">
                            <div class="card-drag-handle"><i class="fas fa-grip-horizontal"></i></div>
                            <h3><i class="fas fa-star"></i> Per√≠cias Treinadas</h3>
                            <div id="trainedSkillsList" class="trained-skills-list">
                                <p class="no-skills">Nenhuma per√≠cia treinada</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ==================== TELA DE COMBATE ==================== -->
            <div id="tab-combate" class="tab-content">
                <div class="combat-layout layout-container" data-container-id="combat-main">
                    <!-- Status Vitais -->
                    <div class="vital-stats draggable-card" data-card-id="combat-vitals">
                        <div class="card-drag-handle"><i class="fas fa-grip-horizontal"></i></div>
                        <div class="vital-box hp-box">
                            <div class="vital-icon"><i class="fas fa-heart"></i></div>
                            <div class="vital-info">
                                <label>HP</label>
                                <div class="vital-values">
                                    <input type="number" id="currentHp" data-field="currentHp" class="vital-current" min="0" value="20">
                                    <span>/</span>
                                    <span id="maxHp" class="vital-max">20</span>
                                </div>
                                <div class="vital-bar">
                                    <div id="hpBar" class="bar-fill hp-fill" style="width: 100%"></div>
                                </div>
                                <div class="vital-buttons">
                                    <button type="button" class="btn-adjust" onclick="Sheet.adjustValue('currentHp', -1)"><i class="fas fa-minus"></i></button>
                                    <button type="button" class="btn-adjust" onclick="Sheet.adjustValue('currentHp', 1)"><i class="fas fa-plus"></i></button>
                                    <button type="button" class="btn-restore" onclick="Sheet.restoreHp()" title="Restaurar HP"><i class="fas fa-heart"></i></button>
                                </div>
                            </div>
                        </div>

                        <div class="vital-box san-box">
                            <div class="vital-icon"><i class="fas fa-brain"></i></div>
                            <div class="vital-info">
                                <label>Sanidade</label>
                                <div class="vital-values">
                                    <input type="number" id="sanity" data-field="sanity" class="vital-single" min="0" value="20">
                                </div>
                                <div class="vital-buttons">
                                    <button type="button" class="btn-adjust" onclick="Sheet.adjustValue('sanity', -1)"><i class="fas fa-minus"></i></button>
                                    <button type="button" class="btn-adjust" onclick="Sheet.adjustValue('sanity', 1)"><i class="fas fa-plus"></i></button>
                                </div>
                            </div>
                        </div>

                        <div class="vital-box pe-box">
                            <div class="vital-icon"><i class="fas fa-bolt"></i></div>
                            <div class="vital-info">
                                <label>PE</label>
                                <div class="vital-values">
                                    <input type="number" id="currentPE" data-field="currentPE" class="vital-current" min="0" value="6">
                                    <span>/</span>
                                    <span id="maxPE" class="vital-max">6</span>
                                </div>
                                <div class="vital-bar">
                                    <div id="peBar" class="bar-fill pe-fill" style="width: 100%"></div>
                                </div>
                                <div class="vital-buttons">
                                    <button type="button" class="btn-adjust" onclick="Sheet.adjustValue('currentPE', -1)"><i class="fas fa-minus"></i></button>
                                    <button type="button" class="btn-adjust" onclick="Sheet.adjustValue('currentPE', 1)"><i class="fas fa-plus"></i></button>
                                    <button type="button" class="btn-restore" onclick="Sheet.restorePE()" title="Restaurar PE"><i class="fas fa-bolt"></i></button>
                                </div>
                            </div>
                        </div>

                        <div class="vital-box pa-box">
                            <div class="vital-icon"><i class="fas fa-running"></i></div>
                            <div class="vital-info">
                                <label>PA</label>
                                <div class="vital-values">
                                    <input type="number" id="currentPA" data-field="currentPA" class="vital-current" min="0" value="5">
                                    <span>/</span>
                                    <span id="maxPA" class="vital-max">5</span>
                                </div>
                                <div class="vital-buttons">
                                    <button type="button" class="btn-adjust" onclick="Sheet.adjustValue('currentPA', -1)"><i class="fas fa-minus"></i></button>
                                    <button type="button" class="btn-adjust" onclick="Sheet.adjustValue('currentPA', 1)"><i class="fas fa-plus"></i></button>
                                    <button type="button" class="btn-next-turn" onclick="Sheet.nextTurn()" title="Pr√≥ximo Turno"><i class="fas fa-redo"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Defesas -->
                    <div class="defense-stats draggable-card" data-card-id="combat-defenses">
                        <div class="card-drag-handle"><i class="fas fa-grip-horizontal"></i></div>
                        <div class="defense-box">
                            <i class="fas fa-shield-alt"></i>
                            <label>CA</label>
                            <span id="armorClass" class="defense-value">10</span>
                        </div>
                        <div class="defense-box">
                            <i class="fas fa-wind"></i>
                            <label>Esquiva</label>
                            <span id="dodge" class="defense-value">10</span>
                        </div>
                        <div class="defense-box">
                            <i class="fas fa-bolt"></i>
                            <label>Iniciativa</label>
                            <span id="initiative" class="defense-value">+0</span>
                        </div>
                    </div>

                    <!-- Redu√ß√µes de Dano -->
                    <div class="damage-reduction draggable-card" data-card-id="combat-reduction">
                        <div class="card-drag-handle"><i class="fas fa-grip-horizontal"></i></div>
                        <h3><i class="fas fa-shield-virus"></i> Redu√ß√µes de Dano</h3>
                        <div class="reduction-grid">
                            <div class="reduction-item">
                                <span>Ao Defender (Bra√ßos)</span>
                                <span id="reduceDefend" class="reduction-value">0</span>
                            </div>
                            <div class="reduction-item">
                                <span>Dano Geral</span>
                                <span id="reduceDamage" class="reduction-value">0</span>
                            </div>
                            <div class="reduction-item">
                                <span>Dano de Queda</span>
                                <span id="reduceFall" class="reduction-value">0</span>
                            </div>
                        </div>
                    </div>

                    <!-- Ataques -->
                    <div class="attacks-section draggable-card" data-card-id="combat-attacks">
                        <div class="card-drag-handle"><i class="fas fa-grip-horizontal"></i></div>
                        <h3><i class="fas fa-crosshairs"></i> Ataques</h3>
                        <div class="attacks-table-container">
                            <table class="attacks-table">
                                <thead>
                                    <tr>
                                        <th>Usar</th>
                                        <th>Nome</th>
                                        <th>Dano</th>
                                        <th>Dist.</th>
                                        <th>Per√≠cia</th>
                                        <th>PA</th>
                                        <th>PE</th>
                                        <th>Crit</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody id="attacksBody">
                                    <!-- Ataques ser√£o gerados por JS -->
                                </tbody>
                            </table>
                            <button id="addAttackBtn" class="btn-add-item">
                                <i class="fas fa-plus"></i> Adicionar Ataque
                            </button>
                        </div>
                    </div>

                    <!-- Per√≠cias de Combate -->
                    <div class="combat-skills-section draggable-card" data-card-id="combat-skills">
                        <div class="card-drag-handle"><i class="fas fa-grip-horizontal"></i></div>
                        <h3><i class="fas fa-fist-raised"></i> Per√≠cias de Combate</h3>
                        <div class="combat-skills-grid" id="combatSkillsGrid">
                            <!-- Per√≠cias de combate ser√£o geradas por JS -->
                        </div>
                    </div>

                    <!-- Habilidades -->
                    <div class="abilities-section draggable-card" data-card-id="combat-abilities">
                        <div class="card-drag-handle"><i class="fas fa-grip-horizontal"></i></div>
                        <h3><i class="fas fa-magic"></i> Habilidades e Poderes</h3>
                        <textarea id="abilities" data-field="abilities" placeholder="Liste suas habilidades, poderes e magias..."></textarea>
                    </div>
                </div>
            </div>

            <!-- ==================== TELA DE PER√çCIAS E FUS√ïES ==================== -->
            <div id="tab-pericias" class="tab-content">
                <div class="skills-page-layout layout-container" data-container-id="skills-main">
                    <!-- Per√≠cias -->
                    <div class="skills-section-box draggable-card" data-card-id="skills-list">
                        <div class="card-drag-handle"><i class="fas fa-grip-horizontal"></i></div>
                        <div class="skills-header">
                            <h2><i class="fas fa-star"></i> Per√≠cias</h2>
                            <div class="skill-legend">
                                <span class="legend-item"><span class="dot untrained"></span> Sem Treino (+0)</span>
                                <span class="legend-item"><span class="dot trained"></span> Treinada (+1)</span>
                                <span class="legend-item"><span class="dot veteran"></span> Veterana (+3)</span>
                                <span class="legend-item"><span class="dot expert"></span> Expert (+5)</span>
                                <span class="legend-item"><i class="fas fa-weight-hanging" style="color: var(--warning);"></i> Penalidade</span>
                                <div class="skill-search">
                                    <i class="fas fa-search"></i>
                                    <input type="text" id="skillSearchInput" placeholder="Buscar...">
                                </div>
                            </div>
                        </div>
                        <div class="skills-grid" id="skillsGrid">
                            <!-- Skills ser√£o geradas por JS -->
                        </div>
                    </div>

                    <!-- Fus√µes -->
                    <div class="fusions-section draggable-card" data-card-id="fusions">
                        <div class="card-drag-handle"><i class="fas fa-grip-horizontal"></i></div>
                        <h3><i class="fas fa-dna"></i> Fus√µes</h3>
                        
                        <div class="fusion-row">
                            <h4>√ìrg√£os Vitais</h4>
                            <div class="fusion-grid">
                                <div class="fusion-item">
                                    <label><i class="fas fa-brain"></i> C√©rebro</label>
                                    <select id="fusionBrainSkills" data-field="fusionBrain">
                                        <option value="1">Vermelho (√ó1)</option>
                                        <option value="1.5">Rosa Escuro (√ó1.5)</option>
                                        <option value="2">Rosa Sock (√ó2)</option>
                                        <option value="2.5">Rosa Claro (√ó2.5)</option>
                                        <option value="3">Prata (√ó3)</option>
                                        <option value="4">Branco (√ó4)</option>
                                    </select>
                                </div>
                                <div class="fusion-item">
                                    <label><i class="fas fa-heart"></i> Cora√ß√£o</label>
                                    <select id="fusionHeartSkills" data-field="fusionHeart">
                                        <option value="1">Vermelho (√ó1)</option>
                                        <option value="1.5">Rosa Escuro (√ó1.5)</option>
                                        <option value="2">Rosa Sock (√ó2)</option>
                                        <option value="2.5">Rosa Claro (√ó2.5)</option>
                                        <option value="3">Prata (√ó3)</option>
                                        <option value="4">Branco (√ó4)</option>
                                    </select>
                                </div>
                                <div class="fusion-item">
                                    <label><i class="fas fa-eye"></i> Olhos</label>
                                    <select id="fusionEyesSkills" data-field="fusionEyes">
                                        <option value="normal">N√£o Fundido</option>
                                        <option value="fused">Fundido</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="fusion-row">
                            <h4>Ossos (Redu√ß√£o de Dano)</h4>
                            <div class="fusion-grid">
                                <div class="fusion-item">
                                    <label>Bra√ßos</label>
                                    <select id="fusionBoneArmsSkills" data-field="fusionBoneArms">
                                        <option value="0">Normal</option>
                                        <option value="2">Transiente (-2)</option>
                                        <option value="4">Mesclado (-4)</option>
                                        <option value="6">Integrado (-6)</option>
                                        <option value="8">Fundido (-8)</option>
                                    </select>
                                </div>
                                <div class="fusion-item">
                                    <label>Cabe√ßa</label>
                                    <select id="fusionBoneHeadSkills" data-field="fusionBoneHead">
                                        <option value="0">Normal</option>
                                        <option value="1">Transiente (-1)</option>
                                        <option value="2">Mesclado (-2)</option>
                                        <option value="3">Integrado (-3)</option>
                                        <option value="4">Fundido (-4)</option>
                                    </select>
                                </div>
                                <div class="fusion-item">
                                    <label>Costas</label>
                                    <select id="fusionBoneBackSkills" data-field="fusionBoneBack">
                                        <option value="0">Normal</option>
                                        <option value="1">Transiente (-1)</option>
                                        <option value="2">Mesclado (-2)</option>
                                        <option value="3">Integrado (-3)</option>
                                        <option value="4">Fundido (-4)</option>
                                    </select>
                                </div>
                                <div class="fusion-item">
                                    <label>Peitoral</label>
                                    <select id="fusionBoneChestSkills" data-field="fusionBoneChest">
                                        <option value="0">Normal</option>
                                        <option value="1">Transiente (-1)</option>
                                        <option value="2">Mesclado (-2)</option>
                                        <option value="3">Integrado (-3)</option>
                                        <option value="4">Fundido (-4)</option>
                                    </select>
                                </div>
                                <div class="fusion-item">
                                    <label>Pernas</label>
                                    <select id="fusionBoneLegsSkills" data-field="fusionBoneLegs">
                                        <option value="0">Normal</option>
                                        <option value="2">Transiente (-2)</option>
                                        <option value="4">Mesclado (-4)</option>
                                        <option value="6">Integrado (-6)</option>
                                        <option value="8">Fundido (-8)</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="fusion-row">
                            <h4>M√∫sculos (B√¥nus em Per√≠cias)</h4>
                            <div class="fusion-grid">
                                <div class="fusion-item">
                                    <label>Bra√ßos (+Luta)</label>
                                    <select id="fusionMuscleArmsSkills" data-field="fusionMuscleArms">
                                        <option value="0">Normal</option>
                                        <option value="1">Rosa (+1)</option>
                                        <option value="2">Rosa Claro (+2)</option>
                                        <option value="3">Prata (+3)</option>
                                        <option value="4">Branco (+4)</option>
                                    </select>
                                </div>
                                <div class="fusion-item">
                                    <label>Cabe√ßa (+Percep√ß√£o)</label>
                                    <select id="fusionMuscleHeadSkills" data-field="fusionMuscleHead">
                                        <option value="0">Normal</option>
                                        <option value="1">Rosa (+1)</option>
                                        <option value="2">Rosa Claro (+2)</option>
                                        <option value="3">Prata (+3)</option>
                                        <option value="4">Branco (+4)</option>
                                    </select>
                                </div>
                                <div class="fusion-item">
                                    <label>Costas (+Pontaria)</label>
                                    <select id="fusionMuscleBackSkills" data-field="fusionMuscleBack">
                                        <option value="0">Normal</option>
                                        <option value="1">Rosa (+1)</option>
                                        <option value="2">Rosa Claro (+2)</option>
                                        <option value="3">Prata (+3)</option>
                                        <option value="4">Branco (+4)</option>
                                    </select>
                                </div>
                                <div class="fusion-item">
                                    <label>Peitoral (+Atletismo)</label>
                                    <select id="fusionMuscleChestSkills" data-field="fusionMuscleChest">
                                        <option value="0">Normal</option>
                                        <option value="1">Rosa (+1)</option>
                                        <option value="2">Rosa Claro (+2)</option>
                                        <option value="3">Prata (+3)</option>
                                        <option value="4">Branco (+4)</option>
                                    </select>
                                </div>
                                <div class="fusion-item">
                                    <label>Pernas (+Acrobacia)</label>
                                    <select id="fusionMuscleLegsSkills" data-field="fusionMuscleLegs">
                                        <option value="0">Normal</option>
                                        <option value="1">Rosa (+1)</option>
                                        <option value="2">Rosa Claro (+2)</option>
                                        <option value="3">Prata (+3)</option>
                                        <option value="4">Branco (+4)</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ==================== TELA DE HIST√ìRIA ==================== -->
            <div id="tab-historia" class="tab-content">
                <div class="history-layout layout-container" data-container-id="history-main">
                    <!-- Apar√™ncia -->
                    <div class="history-section draggable-card" data-card-id="appearance">
                        <div class="card-drag-handle"><i class="fas fa-grip-horizontal"></i></div>
                        <h3><i class="fas fa-eye"></i> Apar√™ncia</h3>
                        <div class="appearance-grid">
                            <div class="form-group">
                                <label>Idade</label>
                                <input type="text" id="age" data-field="age">
                            </div>
                            <div class="form-group">
                                <label>Altura</label>
                                <input type="text" id="height" data-field="height">
                            </div>
                            <div class="form-group">
                                <label>Peso</label>
                                <input type="text" id="charWeight" data-field="charWeight">
                            </div>
                            <div class="form-group">
                                <label>Olhos</label>
                                <input type="text" id="eyes" data-field="eyes">
                            </div>
                            <div class="form-group">
                                <label>Pele</label>
                                <input type="text" id="skin" data-field="skin">
                            </div>
                            <div class="form-group">
                                <label>Cabelo</label>
                                <input type="text" id="hair" data-field="hair">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Descri√ß√£o da Apar√™ncia</label>
                            <textarea id="appearanceDesc" data-field="appearanceDesc" placeholder="Descreva a apar√™ncia do seu personagem..."></textarea>
                        </div>
                    </div>

                    <!-- Personalidade -->
                    <div class="history-section draggable-card" data-card-id="personality">
                        <div class="card-drag-handle"><i class="fas fa-grip-horizontal"></i></div>
                        <h3><i class="fas fa-theater-masks"></i> Personalidade</h3>
                        <div class="personality-grid">
                            <div class="form-group">
                                <label>Tra√ßos de Personalidade</label>
                                <textarea id="personalityTraits" data-field="personalityTraits"></textarea>
                            </div>
                            <div class="form-group">
                                <label>Ideais</label>
                                <textarea id="ideals" data-field="ideals"></textarea>
                            </div>
                            <div class="form-group">
                                <label>V√≠nculos</label>
                                <textarea id="bonds" data-field="bonds"></textarea>
                            </div>
                            <div class="form-group">
                                <label>Fraquezas</label>
                                <textarea id="flaws" data-field="flaws"></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Hist√≥ria -->
                    <div class="history-section draggable-card" data-card-id="backstory">
                        <div class="card-drag-handle"><i class="fas fa-grip-horizontal"></i></div>
                        <h3><i class="fas fa-book"></i> Hist√≥ria do Personagem</h3>
                        <textarea id="backstory" data-field="backstory" class="large-textarea" placeholder="Conte a hist√≥ria do seu personagem..."></textarea>
                    </div>

                    <!-- Anota√ß√µes -->
                    <div class="history-section draggable-card" data-card-id="notes">
                        <div class="card-drag-handle"><i class="fas fa-grip-horizontal"></i></div>
                        <h3><i class="fas fa-sticky-note"></i> Anota√ß√µes</h3>
                        <textarea id="notes" data-field="notes" class="large-textarea" placeholder="Anota√ß√µes gerais, lembretes, etc..."></textarea>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts - Ordem importante! -->
    <script src="js/firebase-config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/calculations.js"></script>
    <script src="js/system-manager.js"></script>
    <script src="js/sheet.js"></script>
    <script src="js/layout.js"></script>
    <script src="js/app.js"></script>
</body>
</html>